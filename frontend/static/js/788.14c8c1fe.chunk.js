"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([[788],{9788:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var s=t(678),r=t(2791),a=t(7689),i=t(1087),c=t(1683),l=t(1303),o=t(7574),u=t(184),d=function(e){var n=e.items,t=Math.ceil(n.length/3),a=(0,r.useState)(1),i=(0,s.Z)(a,2),c=i[0],d=i[1],h=3*(c-1),f=h+3,x=n.slice(h,f),p=c>3,j=c+3<t,m=(0,l.Z)(Array(t)).map((function(e,n){return n+1}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"list-view","data-testid":"list-view",children:x.map((function(e){return(0,u.jsx)(o.Z,{data:e},e.id)}))}),t>1&&(0,u.jsx)("nav",{className:"pagination",children:(0,u.jsxs)("ul",{children:[p&&(0,u.jsx)("li",{className:"previous-page",children:(0,u.jsx)("button",{className:"previous-page",onClick:function(){return d(c-1)},children:"\u276e"})}),m.map((function(e){return(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(c===e?"active":""," page-").concat(e),onClick:function(){return d(e)},children:e})},e)})),j&&(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"next-page",onClick:function(){return d(c+1)},children:"\u276f"})})]})})]})},h=function(){return(0,u.jsx)("div",{className:"loader"})},f=t(4423),x=t(8357),p=function(){var e=(0,r.useState)(""),n=(0,s.Z)(e,2),t=n[0],l=n[1],o=(0,r.useState)([]),p=(0,s.Z)(o,2),j=p[0],m=p[1],v=(0,r.useState)(!1),g=(0,s.Z)(v,2),N=g[0],Z=g[1],C=(0,r.useContext)(x.Z).error,b=(0,a.TH)().pathname.split("/").pop(),k={offerType:b,title:t},S=function(e){null===e||void 0===e||e.preventDefault(),Z(!0);var n="offers?".concat(new URLSearchParams(k).toString());c.Z.get(n).then((function(e){var n=e.data;m(n.offers)})).catch((function(e){C(e.message,"Failed to get offers")})).finally((function(){return Z(!1)}))};return(0,r.useEffect)((function(){S()}),[b,t]),(0,u.jsxs)("div",{className:"home",children:[(0,u.jsx)("hr",{}),(0,u.jsx)("form",{onSubmit:S,children:(0,u.jsxs)("div",{className:"searchbox",children:[(0,u.jsx)("input",{value:t,onInput:function(e){return l(e.target.value)},placeholder:"Search by title"}),(0,u.jsx)("span",{className:"search-icon",children:" \ud83d\udd0d "})]})}),(0,u.jsx)("div",{children:N?(0,u.jsx)(h,{}):(0,u.jsx)(d,{items:j})}),(0,u.jsxs)("div",{className:"actions",children:[(0,u.jsx)(i.rU,{to:f.Z6.NEW_OFFER,children:"Create new offer"}),(0,u.jsx)(i.rU,{to:f.Z6.MY_CART,children:"Checkout my orders"})]})]})}}}]);
//# sourceMappingURL=788.14c8c1fe.chunk.js.map